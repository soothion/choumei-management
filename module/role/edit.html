<!DOCTYPE html>
<html lang="zh-CN">
  <head>
      <meta charset="utf-8">
	  <title>臭美管理后台</title>
	  <script type="text/javascript" src="../../js/include.js"></script>
	  <style type="text/css">
		.right-list li{
			margin-bottom:15px;
		}
		.right-list div{
			padding-left:30px;
			display:none;
		}
		.right-list div label{
			margin:4px 0;
		}
		.fa-minus-square-o,.fa-plus-square-o{
			font-size:16px;
			margin-right:5px;
			vertical-align:middle;
		}
		.fa-minus-square-o,.toggle .fa-plus-square-o{
			display:none;
		}
		.toggle .fa-minus-square-o{
			display:inline-block;
		}
		.toggle div{
			display:block;
		}
	  </style>
  </head>
  <body>
		<div class="breadcrumb">
		<a href="ui.html">一级导航</a><span>&gt;</span><a href="ui.html">二级导航</a><span>&gt;</span><span id="breadcrumb-current">新增用户</span>
	</div>
	<div class="wrapper" ajat="<%if(query.id){%>role/show/<%=query.id%><%}%>#domid=form&tempid=form-t" id="form">
		<script type="text/template" id="form-t">
		<form novalidate method="post" class="form-vertical" data-role="form" action="<%if(query.id){%>role/update/<%=data.id%><%}else{%>role/create<%}%>">
			<%if(query.id){%>
				<input type="hidden" ajat-sync-selector="#breadcrumb-current" value="编辑用户" />
			<%}%>
			<div class="control-group">
				<label class="control-label" for=""><span class="red">*</span>角色名称</label>
				<div class="control">
					<input type="text" required name="name" value="<%=data.name||""%>">
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for=""><span class="red">*</span>所属部门</label>
				<div class="control">
					<select required name="department_id" class="select" ajat="list/department#domid=department&tempid=department-t&sid=<%=data.department_id%>" id="department" >
						
					</select>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for=""><span class="red">*</span>所属城市</label>
				<div class="control">
					<select required name="city_id" class="select" ajat="list/city#domid=city&tempid=city-t&sid=<%=data.city_id%>" id="city">
						
					</select>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for=""><span class="red">*</span>角色状态</label>
				<div class="control">
					<select required name="status" class="select" >
						<option value="1" <%=data.status==1?"selected":""%>>正常</option>
						<option value="2" <%=data.status==2?"selected":""%>>停用</option>
						<option value="3" <%=data.status==3?"selected":""%>>注销</option>
					</select>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for=""><span class="red">*</span>角色说明</label>
				<div class="control"><textarea required name="description"><%=data.description||""%></textarea></div>
			</div>
			<div class="control-group">
				<label class="control-label" for=""><span class="red">*</span>配置权限</label>
				<div class="control">
					<ul class="right-list">
						<li>
							<input type="checkbox" id="parent1" class="checkbox" />
							<label for="parent1" style="margin-right:2px;"></label>
							<a class="square"><i class="fa fa-plus-square-o"></i><i class="fa fa-minus-square-o"></i></a>
							<label for="parent1">基本权限</label>
							<div>
								<input type="checkbox" class="checkbox" id="child1" /><label for="child1">缺省主页</label><input type="checkbox" class="checkbox" id="child2" /><label for="child2">修改信息</label>
							</div>
						</li>
					</ul>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for=""><span class="red">*</span>信息备注</label>
				<div class="control"><textarea  required name="note"><%=data.note||""%></textarea></div>
			</div>
			<div class="control-group">
				<label class="control-label" for=""></label>
				<div class="control"><button class="btn-primary" type="submit">提交</button></div>
			</div>
		  </form>
		  </script>
	</div>
	<script type="text/template" id="department-t">
		<%for(var i=0;i<data.length;i++){%>
			<option <%=data[i].id==protocol.custom.sid?"selected":""%> value="<%=data[i].id%>"><%=data[i].title%></option>
		<%}%>
	</script>
	<script type="text/template" id="city-t">
		<%for(var i=0;i<data.length;i++){%>
			<option <%=data[i].id==protocol.custom.sid?"selected":""%> value="<%=data[i].id%>"><%=data[i].title%></option>
		<%}%>
	</script>
	<script type="text/javascript">
		$('.wrapper').on('click','.square',function(){
			$(this).closest('li').toggleClass('toggle');
		})
	</script>
  </body>
</html>